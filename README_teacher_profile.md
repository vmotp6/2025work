# 老師個人資料功能說明

## 功能概述

這個功能允許老師在註冊後填寫個人資料，包括科系和電話號碼。系統會自動檢查老師是否已填寫個人資料，並在頭像上顯示紅點提示。

## 功能特點

1. **紅點提示**: 當老師尚未填寫個人資料時，頭像右上角會顯示紅色圓點
2. **個人資料頁面**: 專門的頁面供老師填寫科系和電話
3. **資料庫自動關聯**: 系統會自動將老師的個人資料與用戶帳號關聯
4. **下拉選單**: 提供豐富的科系選項供老師選擇

## 資料庫結構

### teacher 資料表
- `user_id`: 關聯到 user 資料表的 ID
- `department`: 科系名稱
- `phone`: 電話號碼

## API 端點

### 1. 獲取老師個人資料
```
GET /teacher/profile/<username>
```

**回應範例:**
```json
{
  "department": "資訊工程學系",
  "phone": "0912345678"
}
```

### 2. 保存老師個人資料
```
POST /teacher/profile
```

**請求參數:**
- `username`: 使用者名稱
- `department`: 科系
- `phone`: 電話號碼

**回應範例:**
```json
{
  "message": "個人資料保存成功"
}
```

## 使用流程

1. **老師註冊**: 老師在系統中註冊帳號
2. **登入系統**: 老師登入後會看到頭像上的紅點提示
3. **點擊個人資料**: 在頭像下拉選單中點擊"個人資料"
4. **填寫資料**: 在個人資料頁面選擇科系並輸入電話
5. **保存資料**: 點擊保存按鈕完成個人資料設定
6. **紅點消失**: 完成後頭像上的紅點會自動消失

## 檔案結構

```
frontend/
├── teacher.php              # 老師主頁面
├── teacher_profile.php      # 老師個人資料頁面
├── test_teacher.php         # 測試頁面
└── share/
    └── header.php           # 包含頭像和下拉選單的頁首

backend/
└── app.py                   # Flask API 後端
```

## 測試方法

1. **啟動後端服務**:
   ```bash
   cd backend
   python app.py
   ```

2. **訪問測試頁面**:
   在瀏覽器中打開 `http://localhost/frontend/test_teacher.php`

3. **測試功能**:
   - 使用測試頁面保存老師個人資料
   - 測試獲取個人資料功能
   - 訪問老師頁面查看紅點提示

## 科系選項

系統提供以下科系選項：
- 資訊工程學系
- 電機工程學系
- 機械工程學系
- 化學工程學系
- 土木工程學系
- 工業工程學系
- 材料科學與工程學系
- 生物科技學系
- 應用化學系
- 應用數學系
- 物理學系
- 企業管理學系
- 會計學系
- 財務金融學系
- 國際企業學系
- 經濟學系
- 統計學系
- 外國語文學系
- 中國文學系
- 歷史學系
- 哲學系
- 社會學系
- 心理學系
- 政治學系
- 法律學系
- 教育學系
- 體育學系
- 藝術學系
- 音樂學系
- 戲劇學系
- 傳播學系
- 新聞學系
- 廣告學系
- 公共關係學系
- 圖書資訊學系
- 資訊管理學系
- 其他

## 注意事項

1. 確保後端 Flask 服務正在運行
2. 確保資料庫連接正常
3. 老師必須先註冊帳號才能使用個人資料功能
4. 個人資料會自動與用戶帳號關聯
5. 紅點提示只對老師身分的用戶顯示 